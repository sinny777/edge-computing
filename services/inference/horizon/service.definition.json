{
    "org": "$HZN_ORG_ID",
    "label": "$SERVICE_NAME for $ARCH",
    "description": "Fire Detection Service",
    "public": true,
    "documentation": "",
    "url": "$SERVICE_NAME",
    "version": "$SERVICE_VERSION",
    "arch": "$ARCH",
    "sharable": "singleton",
    "requiredServices": [],
    "userInput": [
        {
            "name": "LABELS",
            "label": "Classes to detect",
            "type": "string",
            "defaultValue": "Default,Fire"
        },
        {
            "name": "DATA_DIR",
            "label": "Data Directory",
            "type": "string",
            "defaultValue": "/home/pi"
        },
        {
            "name": "USE_WEBCAM",
            "label": "USe of Webcam or Picam",
            "type": "string",
            "defaultValue": "false"
        },
        {
            "name": "EMAIL_USER",
            "label": "Mailtrap Email User",
            "type": "string",
            "defaultValue": "sefsfsfsfsffdsf"
        },
        {
            "name": "EMAIL_PASSWORD",
            "label": "Mailtrap Email User",
            "type": "string",
            "defaultValue": "sfsfwfsdfds"
        },
        {
            "name": "LD_LIBRARY_PATH",
            "label": "env variable to set",
            "type": "string",
            "defaultValue": "/opt/vc/lib"
        },
        {
            "name": "ALERT_LABEL",
            "label": "Alert Label",
            "type": "string",
            "defaultValue": "Fire"
        },
        {
            "name": "ALERT_FREQUENCY",
            "label": "Frequency of detection",
            "type": "int",
            "defaultValue": "3"
        },
        {
            "name": "ALERT_THRESHOLD",
            "label": "Alert Threshold",
            "type": "int",
            "defaultValue": "60"
        }
    ],
    "deployment": {
        "services": {
            "inference": {
                "image": "${DOCKER_IMAGE_BASE}_$ARCH:$SERVICE_VERSION",
                "ports": [ 
                    { "HostIP": "0.0.0.0" , "HostPort": "3001:3001/tcp"}
                ],
                "network": "host",
                "binds": ["/opt/vc/lib:/opt/vc/lib:rw", "/opt/vc/bin:/opt/vc/bin:rw", "/home/pi:/home/pi:rw", "/tmp:/tmp:rw"],
                "devices": ["/dev/mem:/dev/mem", "/dev/vchiq:/dev/vchiq"],
                "privileged": true
            }
        }
    }
}